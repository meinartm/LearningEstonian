<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Lessons</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* CSS styles */
    .lesson-content {
      text-align: center;
    }
    
    .lesson-word {
      font-size: 4rem;
      margin-bottom: 20px;
    }
    
    .lesson-translation {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    
    .show-sentences-button {
      background-color: #f5f5f5;
      border: none;
      color: #333;
      padding: 5px 10px;
      font-size: 1rem;
      margin-bottom: 10px;
      cursor: pointer;
    }
    
    .lesson-sentences {
      font-size: 1rem;
      text-align: left;
      display: none;
    }
    
    .show-meaning-button {
      background-color: #f5f5f5;
      border: none;
      color: #333;
      padding: 5px 10px;
      font-size: 1rem;
      margin-bottom: 10px;
      cursor: pointer;
    }
    
    .explanation {
      font-size: 1rem;
      text-align: left;
      display: none;
    }
    
    .arrow {
      font-size: 2rem;
      cursor: pointer;
    }
    #word-audio-container {
      display: none;
    }
  </style>
</head>
<body>
  <div class="lesson-content">
    <div>
      <span id="previous-button" class="arrow">&#8678;</span>
      <span id="lesson-word" class="lesson-word"></span>
      <button id="word-audio-button" class="audio-button">Play Word Audio</button>
      <audio id="word-audio"></audio>
      <span id="next-button" class="arrow">&#8680;</span>
    </div>
    <div id="lesson-translation" class="lesson-translation"></div>
    <button id="sentences-button" class="show-sentences-button">Example Sentences &#9660;</button>
    <div id="sentences" class="lesson-sentences"></div>
    <button id="meaning-button" class="show-meaning-button">Meaning &#9660;</button>
    <div id="meaning" class="explanation"></div>
    <div id="word-audio-container">
    </div>
  </div>

  <script>
    var words = [
      {
        word: "Mina/Ma",
        translation: "Me/I",
        audioURL: "https://drive.google.com/uc?export=download&id=1MQLWydH3-uoy_2PGJNN70rGqU7xioaBC",
        sentences: [
          {
            sentence: "Mina olen - I am.",
            audioURL: "https://drive.google.com/uc?export=download&id=13h95C6kv---tMFcYpNGNj3j-D1tb0qo-"
          },
          {
            sentence: "Ma tulen - I come/I am coming.",
            audioURL: "https://drive.google.com/uc?export=download&id=1ENYNEjN8-by__D7brYAe-EOFoURRmLv-"
          },
          {
            sentence: "Ma tahan seda - I want that.",
            audioURL: "https://drive.google.com/uc?export=download&id=1bZxPZbz0vHTXtyvpuSMeeEJX5TVQDNde"
          }
        ],
        meaning: "Mina/ma is used very frequently in Estonian and you can use both the long and the short versions of the word, they both mean the same. The short is being used more because it's well... shorter. You can use Mina if you want to emphasize that you are talking about yourself and as a question, 'Mina???'."
          },
      {
        word: "Sina/Sa",
        translation: "You",
        audioURL: "https://drive.google.com/uc?export=download&id=1JD4B3jckIidvqKsJ_Q5tIREN4fMJSogF",
        sentences: [
          {
            sentence: "Sina oled - You are.",
            audioURL: "https://drive.google.com/uc?export=download&id=1jYLYBvNfGmTxLg76jy0q4rAaxm7pQsPW"
          },
          {
            sentence: "Sina tuled - You come/You are coming.",
            audioURL: "https://drive.google.com/uc?export=download&id=1WcaKfU6PBBIAQw0Q1wWhk7rgnMgGQczP"
          },
          {
            sentence: "Sina tahad seda - You want that.",
            audioURL: "https://drive.google.com/uc?export=download&id=1r5z8G1w9iHKWrFwfoUc667-oOI2jD_cZ"
          }
        ],
        meaning: "Sina/Sa is the singular 'you' in Estonian and is used very similarly to Mina/Ma, with Sa being used more often and Sina used for emphasis and as a question."
      },
      {
        word: "See",
        translation: "This",
        audioURL: "https://drive.google.com/uc?export=download&id=1IsvKhft6_qndGKQBVrGTNzHuKDvTFnyv",
        sentences: [
          {
            sentence: "See on - This is",
            audioURL: "https://drive.google.com/uc?export=download&id=10fLFBpxdxsGPZiGx7feWeem8X4b-l1iV"
          },
          {
            sentence: "See ei ole - This is not",
            audioURL: "https://drive.google.com/uc?export=download&id=13_OYHYVNdv7HH-SEJJ-xeIgCT41Vf1ov"
          },
          {
            sentence: "See on hea - This is good",
            audioURL: "https://drive.google.com/uc?export=download&id=1zP_bNQ0aqvr-pKVC9yjCScLHHleNft9u"
          }
        ],
        meaning: "'See' simply means 'this' and is one of the most common words you will hear in any language."
      },
      {
        word: "Hästi",
        translation: "Good/Well/Okay",
        audioURL: "https://drive.google.com/uc?export=download&id=1I0m4P1hLMzRIwWDA9eYOc7JwNj7vH9rJ",
        sentences: [
          {
            sentence: "Mul läheb hästi - I'm doing well/It's going well",
            audioURL: "https://drive.google.com/uc?export=download&id=1nkXKX8A-K0U9CEgFGRNJXV7L0JFog7D8"
          },
          {
            sentence: "Kõik on hästi - Everything is good/okay",
            audioURL: "https://drive.google.com/uc?export=download&id=1rw2a8W7BEjQaLXjOX2lDyVAQU5BoP16h"
          },
          {
            sentence: "Hästi tehtud - Well done/Done well",
            audioURL: "https://drive.google.com/uc?export=download&id=14ZDwLss4_vc6H_1XIgISGuP3fbxKpZyg"
          }
        ],
        meaning: "'Hästi' is used a lot in Estonian. It is the most common response to 'How are you doing?' You can also use it to mean 'okay' or 'alright' when agreeing to do something, like meeting someone."
      },
      {
        word: "On",
        translation: "Is",
        audioURL: "https://drive.google.com/uc?export=download&id=1WLJHCSETtyq91uoFS43yo1tSGSFUt7WI",
        sentences: [
          {
            sentence: "See on nii - This is so",
            audioURL: "https://drive.google.com/uc?export=download&id=172kpckGYaDiLNoS-xtftDrAO-BlWMGck"
          },
          {
            sentence: "Kõik on hästi - Everything is well/good",
            audioURL: "https://drive.google.com/uc?export=download&id=11kvPNSUY6oT4V01XUkK3a49UYplYxPKc"
          },
          {
            sentence: "Mul on see - I have this",
            audioURL: "https://drive.google.com/uc?export=download&id=1I49-uR_ShOJNCQQP0F28GmE0CItPRq_l"
          }
        ],
        meaning: "'On' is a versatile word in Estonian, meaning 'is' or 'are'. Its form changes depending on the subject and the tense of the action. You'll see more examples as you continue your language learning journey."
      }
    ];

    var currentWordIndex = 0;

    function displayWord(index) {
      var word = words[index];
      var lessonWord = document.getElementById("lesson-word");
      var lessonTranslation = document.getElementById("lesson-translation");
      var sentences = document.getElementById("sentences");
      var meaning = document.getElementById("meaning");
      var wordAudioButton = document.getElementById("word-audio-button");
      var wordAudio = document.getElementById("word-audio");

      lessonWord.textContent = word.word;
      lessonTranslation.textContent = word.translation;

      wordAudioButton.innerHTML = "&#128266;"; // Speaker emoji
      wordAudio.src = word.audioURL; // Update the audio source

      wordAudioButton.addEventListener("click", function() {
        wordAudio.play();
      });

      sentences.innerHTML = word.sentences
        .map(
          (sentenceObj, i) => `
            <p class="sentence">
              ${sentenceObj.sentence}
              <button id="audio-button-${i}" class="audio-button">&#128266;</button>
              <audio id="audio-${i}" src="${sentenceObj.audioURL}"></audio>
            </p>
          `
        )
        .join("");

      sentences.style.display = "none";
      meaning.textContent = word.meaning;
      meaning.style.display = "none";

      // Update audio sources for the sentences
      word.sentences.forEach((sentenceObj, i) => {
        var audioElement = document.getElementById(`audio-${i}`);
        audioElement.src = sentenceObj.audioURL;

        var audioButton = document.getElementById(`audio-button-${i}`);
        audioButton.addEventListener("click", function() {
          audioElement.play();
        });
      });
    }

    function toggleSentences() {
      var sentences = document.getElementById("sentences");
      sentences.style.display = sentences.style.display === "none" ? "block" : "none";
    }

    function toggleMeaning() {
      var meaning = document.getElementById("meaning");
      meaning.style.display = meaning.style.display === "none" ? "block" : "none";
    }

    function goToPreviousWord() {
      if (currentWordIndex > 0) {
        currentWordIndex--;
        displayWord(currentWordIndex);
      }
    }

    function goToNextWord() {
      if (currentWordIndex < words.length - 1) {
        currentWordIndex++;
        displayWord(currentWordIndex);
      }
    }

    document.getElementById("previous-button").addEventListener("click", goToPreviousWord);
    document.getElementById("next-button").addEventListener("click", goToNextWord);
    document.getElementById("sentences-button").addEventListener("click", toggleSentences);
    document.getElementById("meaning-button").addEventListener("click", toggleMeaning);

    displayWord(currentWordIndex);
  </script>
</body>
</html>
